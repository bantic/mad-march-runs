<h1>Select Your Teams</h1>

<div class="selected-teams">
  <h2>Your selected teams</h2>

  {{#each teamSlots as |teamSlot index|}}
    {{#with teamSlot.team as |team|}}
      <div class="team">
        <span class="name">{{team.name}}</span>
        <span class="seed">(seed {{team.seed}})</span>
        <button {{action 'removeTeam' team}} class="btn remove">
          Remove
        </button>
      </div>
    {{else}}
      <div class='team empty'>team {{increment-number index}}: empty</div>
    {{/with}}
  {{/each}}

  {{#if showSaveSelections}}
    <button {{action 'saveSelections'}} class='btn'>Save Selections</button>
  {{/if}}
</div>

<hr>

<div class="teams">
  <h2>Select {{maxTeams}} teams:</h2>

  {{#each groupedTeams as |group|}}
    <h3>{{group.region}}</h3>

    {{#each group.teams as |team|}}
    <div class="team">
      <span class="name">{{team.name}} </span>
      <span class='seed'>(seed {{team.seed}})</span>

      {{#if (includes-item team userTeams)}}
        <button disabled class='btn select'>Selected</button>
      {{else if hasEmptyTeamSlots}}
        <button {{action 'selectTeam' team}} class='btn select'>Select</button>
      {{else}}
        {{! the user hasn't selected this team but they have already selected
            all the teams they can. FIXME maybe a message to that effect here?}}
        <button disabled class='btn select'>Select</button>
      {{/if}}
    </div>
    {{/each}}
  {{/each}}
</div>
